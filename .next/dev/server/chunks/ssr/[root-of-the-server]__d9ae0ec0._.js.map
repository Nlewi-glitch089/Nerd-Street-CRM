{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Launchpad8/Nerd-Street-CRM/pages/profile.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/router'\r\n\r\nexport default function Profile() {\r\n  const router = useRouter()\r\n  const [loading, setLoading] = useState(true)\r\n  const [user, setUser] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n    ;(async () => {\r\n      try {\r\n        const token = (() => { try { return localStorage.getItem('token') } catch (e) { return null } })()\r\n        if (!token) {\r\n          if (mounted) setError('Not authenticated')\r\n          return\r\n        }\r\n        const res = await fetch('/api/protected', { headers: { Authorization: `Bearer ${token}` } })\r\n        if (!res.ok) {\r\n          if (mounted) setError('Session invalid or expired')\r\n          try { localStorage.removeItem('token') } catch (e) {}\r\n          return\r\n        }\r\n        const data = await res.json()\r\n        if (!data?.user) {\r\n          if (mounted) setError('Unable to load user')\r\n          return\r\n        }\r\n        if (mounted) setUser(data.user)\r\n      } catch (err) {\r\n        if (mounted) setError('Network error')\r\n      } finally {\r\n        if (mounted) setLoading(false)\r\n      }\r\n    })()\r\n    return () => { mounted = false }\r\n  }, [])\r\n\r\n  if (loading) return (\r\n    <div style={{position:'fixed', inset:0, display:'flex', alignItems:'center', justifyContent:'center', background:'#000', zIndex:9999}}>\r\n      <div style={{textAlign:'center', transform:'translateY(-6%)'}}>\r\n        <div className=\"spinner\" />\r\n        <div style={{color:'#bbb', marginTop:14, fontSize:16}}>Loading profile...</div>\r\n      </div>\r\n      <style jsx>{`\r\n        .spinner { width:88px; height:88px; border-radius:50%; border:8px solid rgba(255,255,255,0.03); border-top-color: #39ff14; box-shadow: 0 0 28px rgba(57,255,20,0.08); animation: spin 1s linear infinite; margin:0 auto }\r\n        @keyframes spin { to { transform: rotate(360deg); } }\r\n      `}</style>\r\n    </div>\r\n  )\r\n  if (error) return <div style={{padding:20, color:'red'}}>{error}</div>\r\n\r\n  return (\r\n    <div style={{padding:18}}>\r\n      <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:12}}>\r\n        <div>\r\n          <div style={{color:'var(--color-neon)', fontWeight:800, fontSize:18}}>Profile</div>\r\n          <div style={{color:'#bbb'}}>View and manage your account</div>\r\n        </div>\r\n        <div style={{display:'flex', gap:12}}>\r\n          <button className=\"btn btn-ghost\" onClick={() => { try { router.back() } catch(e){ console.warn('nav failed', e) } }}>Back</button>\r\n          <button className=\"btn btn-ghost\" onClick={() => {\r\n            try { localStorage.removeItem('token') } catch(e) { console.warn('removeItem token failed', e) }\r\n            try { window.location.href = '/' } catch(e) { console.warn('Redirect failed', e) }\r\n          }}>Sign out</button>\r\n        </div>\r\n      </div>\r\n\r\n        <div style={{display:'grid', gridTemplateColumns:'1fr 320px', gap:18}}>\r\n        <div style={{padding:18, border:'1px solid rgba(255,255,255,0.03)', borderRadius:8}}>\r\n          <div style={{maxWidth:640}}>\r\n            <div style={{fontWeight:700, color:'var(--color-neon)', marginBottom:8}}>Account details</div>\r\n            <div style={{display:'grid', gridTemplateColumns:'140px 1fr', gap:12, alignItems:'center'}}>\r\n              <div style={{color:'#bbb'}}>Name</div>\r\n              <div style={{fontWeight:700}}>{user?.name || '—'}</div>\r\n\r\n              <div style={{color:'#bbb'}}>Email</div>\r\n              <div style={{fontWeight:700}}>{user?.email || '—'}</div>\r\n\r\n              <div style={{color:'#bbb'}}>Role</div>\r\n              <div style={{fontWeight:700}}>{user?.role || '—'}</div>\r\n\r\n              <div style={{color:'#bbb'}}>ID</div>\r\n              <div style={{fontSize:12, color:'#999'}}>{user?.id || '—'}</div>\r\n            </div>\r\n            <RequestAccessForm userEmail={user?.email} />\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{padding:18, border:'1px solid rgba(255,255,255,0.03)', borderRadius:8}}>\r\n          <div style={{fontWeight:700, color:'var(--color-neon)', marginBottom:8}}>Edit profile</div>\r\n          <div style={{color:'#bbb', marginBottom:10, fontSize:13}}>Update your display name or change your password using the form on this panel.</div>\r\n          <ProfileEditor initialName={user?.name} />\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{marginTop:18, padding:18, border:'1px solid rgba(255,255,255,0.03)', borderRadius:8}}>\r\n        <div style={{fontWeight:700, color:'var(--color-neon)', marginBottom:8}}>Recent activity</div>\r\n        <RecentActivityList />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction RecentActivityList(){\r\n  // lightweight local sample; try server seed if available\r\n  const [items, setItems] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [fromCache, setFromCache] = useState(false)\r\n  const CACHE_KEY = 'seed_recent_activity'\r\n  const MAX_AGE_MS = 5 * 60 * 1000 // 5 minutes\r\n  useEffect(()=>{\r\n    let mounted = true\r\n    ;(async()=>{\r\n      setLoading(true)\r\n      // try cache first\r\n      try{\r\n        const raw = localStorage.getItem(CACHE_KEY)\r\n        if (raw) {\r\n          const parsed = JSON.parse(raw)\r\n          if (parsed && parsed.items && parsed.ts) {\r\n            const age = Date.now() - parsed.ts\r\n            if (age <= MAX_AGE_MS) {\r\n              if (mounted) {\r\n                setItems(parsed.items)\r\n                setFromCache(true)\r\n                setLoading(false)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }catch(e){ /* ignore cache parse errors */ }\r\n\r\n      // fetch fresh data in background with timeout\r\n      const controller = new AbortController()\r\n      const timeout = setTimeout(() => controller.abort(), 6000)\r\n      try{\r\n        const token = (()=>{ try{ return localStorage.getItem('token') }catch(e){return null} })()\r\n        const res = await fetch('/api/seed', { method: 'POST', headers: { 'Content-Type':'application/json', ...(token?{ Authorization:`Bearer ${token}` }:{} ) }, signal: controller.signal })\r\n        if (res.ok){\r\n          const d = await res.json().catch(()=>null)\r\n          if (mounted) {\r\n            const recent = d?.recentActivity || []\r\n            setItems(recent)\r\n            setFromCache(false)\r\n            try { localStorage.setItem(CACHE_KEY, JSON.stringify({ items: recent, ts: Date.now() })) } catch(e) {}\r\n          }\r\n        } else if (mounted && !fromCache) {\r\n          setItems([{ id:'r1', title:'No recent server activity', note:'No items returned' }])\r\n        }\r\n      }catch(e){\r\n        // if aborted or network error and we don't have cache, show fallback\r\n        if (mounted && !fromCache) setItems([{ id:'r2', title:'Local sample activity', note:'Nothing to show from server' }])\r\n      }finally{ clearTimeout(timeout); if (mounted) setLoading(false) }\r\n    })()\r\n    return ()=>{ mounted=false }\r\n  },[])\r\n  if (loading && !fromCache) return (\r\n    <div style={{display:'flex', flexDirection:'column', gap:8}}>\r\n      {[1,2,3].map(n => (\r\n        <div key={n} style={{height:56, borderRadius:6, background:'linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))', border:'1px solid rgba(255,255,255,0.02)'}} />\r\n      ))}\r\n    </div>\r\n  )\r\n  if (!items || items.length === 0) return <div style={{color:'#888'}}>No recent activity</div>\r\n  return (\r\n    <div style={{display:'flex', flexDirection:'column', gap:10}}>\r\n      {fromCache && <div style={{fontSize:12,color:'#999'}}>Showing cached activity — updating...</div>}\r\n      {items.map((r,i)=> (\r\n        <div key={r.id || i} style={{padding:10, border:'1px solid rgba(255,255,255,0.03)', borderRadius:6}}>\r\n          <div style={{fontWeight:700}}>{r.title || r.partner || r.title}</div>\r\n          <div style={{fontSize:13, color:'#bbb'}}>{r.note || r.kind || ''}</div>\r\n          <div style={{fontSize:12, color:'#999', marginTop:6}}>{r.date || ''}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction ProfileEditor({ initialName }){\r\n  const [name, setName] = useState(initialName || '')\r\n  const [password, setPassword] = useState('')\r\n  const [confirm, setConfirm] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  async function submit(e){\r\n    if (e && e.preventDefault) e.preventDefault()\r\n    setMessage(null)\r\n    if (password && password.length < 8) return setMessage({ type:'error', text: 'Password must be at least 8 characters' })\r\n    if (password && password !== confirm) return setMessage({ type:'error', text: 'Password and confirmation do not match' })\r\n    setLoading(true)\r\n    try{\r\n      const token = (()=>{ try{ return localStorage.getItem('token') }catch(e){return null} })()\r\n      const body = { name: name || undefined }\r\n      if (password) body.password = password\r\n      const res = await fetch('/api/auth/update', { method: 'POST', headers: { 'Content-Type':'application/json', ...(token?{ Authorization:`Bearer ${token}` }:{} ) }, body: JSON.stringify(body) })\r\n      const d = await res.json().catch(()=>null)\r\n      if (!res.ok) throw new Error(d?.error || 'Update failed')\r\n      setMessage({ type:'success', text: 'Profile updated' })\r\n      setPassword(''); setConfirm('')\r\n    }catch(err){ setMessage({ type:'error', text: String(err.message || err) }) }\r\n    finally{ setLoading(false) }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n      <div style={{display:'grid', gap:8}}>\r\n        <label style={{fontSize:12, color:'#bbb'}}>Display name</label>\r\n        <input className=\"input\" value={name} onChange={e=>setName(e.target.value)} placeholder=\"Your name\" />\r\n\r\n        <label style={{fontSize:12, color:'#bbb', marginTop:8}}>New password</label>\r\n        <input className=\"input\" type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} placeholder=\"Leave blank to keep current\" />\r\n\r\n        <label style={{fontSize:12, color:'#bbb'}}>Confirm password</label>\r\n        <input className=\"input\" type=\"password\" value={confirm} onChange={e=>setConfirm(e.target.value)} placeholder=\"Confirm new password\" />\r\n\r\n        <div style={{display:'flex', gap:8, justifyContent:'flex-end', marginTop:8}}>\r\n          <button className=\"btn btn-ghost\" type=\"button\" onClick={()=>{ setName(initialName || ''); setPassword(''); setConfirm(''); setMessage(null) }}>Reset</button>\r\n          <button className=\"btn\" type=\"submit\" disabled={loading}>{loading? 'Saving...' : 'Save changes'}</button>\r\n        </div>\r\n\r\n        {message && <div style={{marginTop:8, color: message.type === 'error' ? '#ff8080' : 'var(--color-neon)'}}>{message.text}</div>}\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nfunction RequestAccessForm({ userEmail }){\r\n  const [open, setOpen] = useState(false)\r\n  const [scope, setScope] = useState('This partner only')\r\n  const [note, setNote] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  async function submit(e){\r\n    e && e.preventDefault && e.preventDefault()\r\n    setMessage(null)\r\n    if (!scope) return setMessage({ type: 'error', text: 'Please choose a scope' })\r\n    setLoading(true)\r\n    try{\r\n      const res = await fetch('/api/admin/request-access', { method: 'POST', headers: { 'Content-Type':'application/json' }, body: JSON.stringify({ email: userEmail, scope, note }) })\r\n      const d = await res.json().catch(()=>null)\r\n      if (!res.ok) throw new Error(d?.error || 'Request failed')\r\n      setMessage({ type: 'success', text: d?.message || 'Request sent' })\r\n      setOpen(false)\r\n      setNote('')\r\n    }catch(err){ setMessage({ type:'error', text: String(err.message || err) }) }\r\n    finally{ setLoading(false) }\r\n  }\r\n\r\n  return (\r\n    <div style={{marginTop:12}}>\r\n      <div style={{fontSize:12, color:'#bbb', marginBottom:8}}>Need temporary, limited admin access for a specific task? Request it here.</div>\r\n      {!open ? (\r\n        <div style={{display:'flex', gap:8}}>\r\n          <button className=\"btn btn-ghost\" onClick={() => setOpen(true)}>Request Temporary Access</button>\r\n        </div>\r\n      ) : (\r\n        <form onSubmit={submit} style={{display:'grid', gap:8}}>\r\n          <label style={{fontSize:12, color:'#bbb'}}>Scope</label>\r\n          <select value={scope} onChange={e=>setScope(e.target.value)} style={{padding:8,borderRadius:6,background:'#0b0b0b',color:'#eee',border:'1px solid rgba(255,255,255,0.03)'}}>\r\n            <option>This partner only</option>\r\n            <option>This campaign only</option>\r\n            <option>Specific tasks only</option>\r\n          </select>\r\n          <label style={{fontSize:12, color:'#bbb'}}>Reason / details</label>\r\n          <textarea value={note} onChange={e=>setNote(e.target.value)} placeholder=\"Why do you need temporary access?\" rows={3} style={{padding:8,borderRadius:6,background:'#0b0b0b',color:'#eee',border:'1px solid rgba(255,255,255,0.03)'}} />\r\n          <div style={{display:'flex', gap:8, justifyContent:'flex-end'}}>\r\n            <button type=\"button\" className=\"btn btn-ghost\" onClick={() => { setOpen(false); setNote(''); setMessage(null) }}>Cancel</button>\r\n            <button className=\"btn\" type=\"submit\" disabled={loading}>{loading ? 'Sending...' : 'Send request'}</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n      {message && <div style={{marginTop:8,color: message.type === 'error' ? '#ff8080' : 'var(--color-neon)'}}>{message.text}</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}}]
}