{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Launchpad8/Nerd-Street-CRM/pages/api/users.js"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nlet prisma\r\nif (!global.__prisma) {\r\n  global.__prisma = new PrismaClient()\r\n}\r\nprisma = global.__prisma\r\n\r\nexport default async function handler(req, res) {\r\n  if (req.method === 'GET') {\r\n    try {\r\n      const users = await prisma.user.findMany({ select: { id: true, name: true, email: true, role: true, createdAt: true } , orderBy: { createdAt: 'desc' }})\r\n      return res.status(200).json({ users })\r\n    } catch (err) {\r\n      console.error('Users API error', err)\r\n      return res.status(500).json({ error: 'Failed to list users' })\r\n    }\r\n  }\r\n\r\n  return res.status(405).json({ error: 'Method not allowed' })\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI;AACJ,IAAI,CAAC,yDAAO,QAAQ,EAAE;IACpB,yDAAO,QAAQ,GAAG,IAAI,6IAAY;AACpC;AACA,SAAS,yDAAO,QAAQ;AAET,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,IAAI,MAAM,KAAK,OAAO;QACxB,IAAI;YACF,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC,QAAQ,CAAC;gBAAE,QAAQ;oBAAE,IAAI;oBAAM,MAAM;oBAAM,OAAO;oBAAM,MAAM;oBAAM,WAAW;gBAAK;gBAAI,SAAS;oBAAE,WAAW;gBAAO;YAAC;YACtJ,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE;YAAM;QACtC,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,mBAAmB;YACjC,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAAuB;QAC9D;IACF;IAEA,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE,OAAO;IAAqB;AAC5D"}}]
}