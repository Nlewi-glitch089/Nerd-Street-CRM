module.exports=[50852,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},40175,(a,b,c)=>{"use strict";b.exports=a.r(1951).vendored.contexts.HeadManagerContext},42939,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},2093,(a,b,c)=>{b.exports=a.x("styled-jsx/style.js",()=>require("styled-jsx/style.js"))},37001,a=>{"use strict";var b=a.i(79168),c=a.i(27068),d=a.i(32759),e=a.i(39141),f=a.i(27342),g=a.i(8171),h=a.i(2093),i=a.i(41910),j=a.i(27669);function k(){let a=(0,i.useRouter)(),{slug:b}=a.query,[c,d]=(0,j.useState)(!0),[e,f]=(0,j.useState)(null),[k,l]=(0,j.useState)(null),[m,n]=(0,j.useState)("contacts"),[o,p]=(0,j.useState)(""),[q,r]=(0,j.useState)(""),[s,t]=(0,j.useState)("");return((0,j.useEffect)(()=>{if(!b)return;let a=!0;return(async()=>{try{let c=(()=>{try{return localStorage.getItem("token")}catch(a){return null}})(),d=await fetch("/api/seed",{method:"POST",headers:{"Content-Type":"application/json",Authorization:c?`Bearer ${c}`:void 0}});if(!d.ok)return void l("Failed to load partner data");let e=((await d.json()).partners||[]).find(a=>(a.name||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")===String(b));if(!e)return void l("Partner not found");a&&f(e)}catch(a){l("Network error")}finally{a&&d(!1)}})(),()=>{a=!1}},[b]),(0,j.useEffect)(()=>{let b=a.query?.tab;b&&["contacts","interactions","programs","reminders"].includes(String(b))&&n(String(b))},[a.query?.tab]),c)?(0,g.jsxs)("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#000",zIndex:9999},className:"jsx-bc10eaca985a6337",children:[(0,g.jsxs)("div",{style:{textAlign:"center"},className:"jsx-bc10eaca985a6337",children:[(0,g.jsx)("div",{style:{width:84,height:84,borderRadius:999,border:"8px solid rgba(57,255,20,0.06)",borderTopColor:"#39ff14",boxShadow:"0 0 30px rgba(57,255,20,0.08)",margin:"0 auto",animation:"spin 1s linear infinite"},className:"jsx-bc10eaca985a6337"}),(0,g.jsx)("div",{style:{color:"#39ff14",marginTop:14,fontSize:16},className:"jsx-bc10eaca985a6337",children:"Loading partner details..."})]}),(0,g.jsx)(h.default,{id:"bc10eaca985a6337",children:"@keyframes spin{to{transform:rotate(360deg)}}"})]}):k?(0,g.jsxs)("div",{style:{padding:20,color:"#f66"},children:[k,(0,g.jsx)("div",{style:{marginTop:12},children:(0,g.jsx)("button",{className:"btn",onClick:()=>a.push("/team"),children:"Back to Dashboard"})})]}):(0,g.jsxs)("div",{style:{padding:20},children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:"btn btn-ghost",onClick:()=>a.push("/team"),children:"← Back to Dashboard"})}),(0,g.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,g.jsx)("button",{className:"btn btn-ghost",onClick:()=>a.push("/team"),children:"← Back to Dashboard"}),(0,g.jsx)("button",{className:"btn btn-ghost",onClick:()=>{try{localStorage.removeItem("token")}catch(a){console.warn("removeItem token failed",a)}try{a.replace("/")}catch(a){try{window.location.href="/"}catch(a){console.warn("redirect failed",a)}}},children:"Logout"})]})]}),(0,g.jsxs)("div",{style:{marginTop:16,padding:18,border:"1px solid rgba(57,255,20,0.12)",borderRadius:8},children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:18,fontWeight:800},children:e.name}),(0,g.jsxs)("div",{style:{marginTop:6},children:[(0,g.jsx)("span",{style:{background:"#0b0b0b",borderRadius:6,padding:"4px 8px",border:"1px solid rgba(57,255,20,0.08)",color:"#39ff14",fontWeight:700,fontSize:12,marginRight:8},children:e.tag}),(0,g.jsx)("span",{style:{color:"#bbb",marginLeft:6},children:e.description}),e.owners&&e.owners.length>0&&(0,g.jsxs)("div",{style:{marginTop:8,fontSize:12,color:"#9ea"},children:[1===e.owners.length?"Assigned: ":"Team: ",e.owners.map((a,b)=>{let c=(e.contacts||[]).find(b=>b.email===a),d=c?`${c.name}${c.title?` — ${c.title}`:""}`:a;return(0,g.jsxs)("span",{style:{marginLeft:8*!!b},children:[d,b<e.owners.length-1?",":""]},a)})]})]})]}),(0,g.jsxs)("div",{style:{textAlign:"right"},children:[(0,g.jsx)("div",{style:{fontSize:12,color:"#bbb"},children:"Partnership Health"}),(0,g.jsx)("div",{style:{fontSize:28,color:"#39ff14",fontWeight:800},children:e.health||"—"})]})]}),(0,g.jsx)("hr",{style:{border:"none",borderTop:"1px solid rgba(57,255,20,0.06)",margin:"16px 0"}}),(0,g.jsx)("div",{style:{display:"flex",gap:24},children:(0,g.jsxs)("div",{style:{flex:1},children:[(0,g.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:12},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:12,color:"#bbb"},children:"Contract Value"}),(0,g.jsx)("div",{style:{fontWeight:700,marginTop:6},children:e.contractValue||"—"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:12,color:"#bbb"},children:"Start Date"}),(0,g.jsx)("div",{style:{fontWeight:700,marginTop:6},children:e.startDate||"—"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:12,color:"#bbb"},children:"End Date"}),(0,g.jsx)("div",{style:{fontWeight:700,marginTop:6},children:e.endDate||"—"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:12,color:"#bbb"},children:"Last Contact"}),(0,g.jsx)("div",{style:{fontWeight:700,marginTop:6},children:e.lastContact||"—"})]})]}),(0,g.jsxs)("div",{style:{marginTop:18},children:[(0,g.jsx)("div",{style:{display:"flex",gap:10},children:["contacts","interactions","programs","reminders"].map(a=>(0,g.jsxs)("button",{onClick:()=>n(a),style:{padding:"8px 12px",borderRadius:8,border:m===a?"1px solid #39ff14":"1px solid rgba(255,255,255,0.03)",background:m===a?"rgba(57,255,20,0.02)":"transparent",color:m===a?"#39ff14":"#bbb",cursor:"pointer"},children:[a.charAt(0).toUpperCase()+a.slice(1)," (",(e[a]||[]).length,")"]},a))}),(0,g.jsxs)("div",{style:{marginTop:12},children:["contacts"===m&&(0,g.jsxs)("div",{style:{padding:12,border:"1px solid rgba(57,255,20,0.06)",borderRadius:6},children:[(0,g.jsx)("div",{style:{fontWeight:700,color:"#39ff14"},children:"Contacts"}),(e.contacts||[]).map((a,b)=>(0,g.jsxs)("div",{style:{marginTop:10},children:[(0,g.jsx)("div",{style:{fontWeight:700},children:a.name}),(0,g.jsx)("div",{style:{color:"#bbb",marginTop:6},children:a.title}),(0,g.jsxs)("div",{style:{color:"#bbb",marginTop:6},children:[a.email," · ",a.phone]})]},b))]}),"interactions"===m&&(0,g.jsxs)("div",{style:{marginTop:12,padding:12,border:"1px solid rgba(57,255,20,0.06)",borderRadius:6},children:[(0,g.jsx)("div",{style:{fontWeight:700,color:"#39ff14"},children:"Engagement History"}),(e.interactions||[]).map(a=>(0,g.jsxs)("div",{style:{marginTop:10},children:[(0,g.jsxs)("div",{style:{fontWeight:700},children:[a.type||a.kind," ",(0,g.jsx)("span",{style:{fontSize:12,color:"#bbb",marginLeft:8},children:a.date})]}),(0,g.jsx)("div",{style:{color:"#bbb",marginTop:6},children:a.note||a.text})]},a.id||a.date))]}),"programs"===m&&(0,g.jsxs)("div",{style:{marginTop:12,padding:12,border:"1px solid rgba(57,255,20,0.06)",borderRadius:6},children:[(0,g.jsx)("div",{style:{fontWeight:700,color:"#39ff14"},children:"Programs & Contracts"}),(e.programs||[]).map(a=>(0,g.jsxs)("div",{style:{marginTop:10},children:[(0,g.jsxs)("div",{style:{fontWeight:700},children:[a.title," ",(0,g.jsx)("span",{style:{fontSize:12,color:"#bbb",marginLeft:8},children:a.status})]}),(0,g.jsxs)("div",{style:{color:"#bbb",marginTop:6},children:[a.value?a.value:""," ",a.start?`\xb7 ${a.start} - ${a.end}`:""]})]},a.id||a.title))]}),"reminders"===m&&(0,g.jsxs)("div",{style:{marginTop:12,padding:12,border:"1px solid rgba(57,255,20,0.06)",borderRadius:6},children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)("div",{style:{fontWeight:700,color:"#39ff14"},children:"Reminders & Tasks"}),(0,g.jsx)("div",{style:{fontSize:12,color:"#bbb"},children:"Local only — non-persistent"})]}),(e.reminders||[]).map(a=>(0,g.jsxs)("div",{style:{marginTop:10},children:[(0,g.jsxs)("div",{style:{fontWeight:700},children:[a.title," ",(0,g.jsxs)("span",{style:{fontSize:12,color:"#bbb",marginLeft:8},children:["Due: ",a.due]})]}),(0,g.jsx)("div",{style:{color:"#bbb",marginTop:6},children:a.note})]},a.id)),(0,g.jsxs)("div",{style:{marginTop:14,borderTop:"1px dashed rgba(255,255,255,0.03)",paddingTop:12},children:[(0,g.jsx)("div",{style:{fontSize:13,color:"#bbb",marginBottom:8},children:"Add a local reminder (client-only)"}),(0,g.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,g.jsx)("input",{value:o,onChange:a=>p(a.target.value),placeholder:"Title",style:{flex:1,padding:8,borderRadius:6,border:"1px solid rgba(57,255,20,0.04)",background:"#0b0b0b",color:"#eee"}}),(0,g.jsx)("input",{value:q,onChange:a=>r(a.target.value),placeholder:"Due (YYYY-MM-DD)",style:{width:160,padding:8,borderRadius:6,border:"1px solid rgba(57,255,20,0.04)",background:"#0b0b0b",color:"#eee"}})]}),(0,g.jsxs)("div",{style:{marginTop:8,display:"flex",gap:8},children:[(0,g.jsx)("input",{value:s,onChange:a=>t(a.target.value),placeholder:"Note",style:{flex:1,padding:8,borderRadius:6,border:"1px solid rgba(57,255,20,0.04)",background:"#0b0b0b",color:"#eee"}}),(0,g.jsx)("button",{className:"btn",onClick:()=>{if(!o)return alert("Please add a title");let a={id:`local-${Date.now()}`,title:o,due:q||"TBD",note:s};f(b=>({...b,reminders:[...b.reminders||[],a]})),p(""),r(""),t("")},children:"Add"})]})]})]})]})]})]})})]})]})}a.s(["default",()=>k],83369);var l=a.i(83369),m=a.i(9193);let n=(0,d.hoist)(l,"default"),o=(0,d.hoist)(l,"getStaticProps"),p=(0,d.hoist)(l,"getStaticPaths"),q=(0,d.hoist)(l,"getServerSideProps"),r=(0,d.hoist)(l,"config"),s=(0,d.hoist)(l,"reportWebVitals"),t=(0,d.hoist)(l,"unstable_getStaticProps"),u=(0,d.hoist)(l,"unstable_getStaticPaths"),v=(0,d.hoist)(l,"unstable_getStaticParams"),w=(0,d.hoist)(l,"unstable_getServerProps"),x=(0,d.hoist)(l,"unstable_getServerSideProps"),y=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/partners/[slug]",pathname:"/partners/[slug]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:l}),z=(0,m.getHandler)({srcPage:"/partners/[slug]",config:r,userland:l,routeModule:y,getStaticPaths:p,getStaticProps:o,getServerSideProps:q});a.s(["config",0,r,"default",0,n,"getServerSideProps",0,q,"getStaticPaths",0,p,"getStaticProps",0,o,"handler",0,z,"reportWebVitals",0,s,"routeModule",0,y,"unstable_getServerProps",0,w,"unstable_getServerSideProps",0,x,"unstable_getStaticParams",0,v,"unstable_getStaticPaths",0,u,"unstable_getStaticProps",0,t],37001)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c19810b8._.js.map