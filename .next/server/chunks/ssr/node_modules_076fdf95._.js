module.exports=[50852,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},40175,(a,b,c)=>{"use strict";b.exports=a.r(1951).vendored.contexts.HeadManagerContext},42939,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},59372,a=>{"use strict";var b=a.i(79168),c=a.i(27068),d=a.i(32759),e=a.i(39141),f=a.i(27342),g=a.i(8171),h=a.i(27669),i=a.i(41910);function j(){let a=(0,i.useRouter)(),{id:b}=a.query,[c,d]=(0,h.useState)(!0),[e,f]=(0,h.useState)(null),[j,k]=(0,h.useState)(null),[l,m]=(0,h.useState)([]);return((0,h.useEffect)(()=>{!async function(){if(b){d(!0),f(null);try{let a=(()=>{try{return localStorage.getItem("token")}catch(a){return null}})(),c=await fetch(`/api/donors/${b}`,{headers:{...a?{Authorization:`Bearer ${a}`}:{}}});if(404===c.status)return f("Donor not found");if(!c.ok){let a=await c.json().catch(()=>({}));return f(a.error||"Failed to load donor")}let d=await c.json();k(d.donor),m(d.donations||[])}catch(a){console.warn(a),f("Network error")}finally{d(!1)}}}()},[b]),c)?(0,g.jsx)("div",{style:{padding:20},children:"Loading…"}):e?(0,g.jsxs)("div",{style:{padding:20},children:[(0,g.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,g.jsx)("h2",{style:{color:"var(--color-neon)"},children:"Donor"}),(0,g.jsx)("button",{className:"btn",onClick:()=>a.push("/admin/donors"),children:"Back"})]}),(0,g.jsx)("div",{style:{marginTop:12,color:"#ff8080"},children:e})]}):(0,g.jsxs)("div",{style:{padding:20},children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("h2",{style:{color:"var(--color-neon)",margin:0},children:[j.firstName," ",j.lastName||""]}),(0,g.jsxs)("div",{style:{fontSize:13,color:"#bbb"},children:[j.email||"—"," — Total: $",Number(j.totalGiving||0).toFixed(2)]})]}),(0,g.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[(0,g.jsx)("button",{className:"btn",onClick:()=>a.push("/admin/donors"),children:"Back"}),(0,g.jsx)("button",{className:"btn btn-primary",onClick:()=>a.push("/admin/donors"),children:"Record Donation"})]})]}),(0,g.jsxs)("section",{style:{marginTop:18,maxWidth:1e3},children:[(0,g.jsx)("h3",{style:{marginTop:0},children:"Notes"}),(0,g.jsx)("div",{style:{whiteSpace:"pre-wrap",color:"#ddd",background:"rgba(255,255,255,0.02)",padding:12,borderRadius:6},children:j.notes||"—"}),(0,g.jsx)("h3",{style:{marginTop:20},children:"Donations"}),0===l.length?(0,g.jsx)("div",{style:{color:"#bbb"},children:"No donations recorded yet."}):(0,g.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:8},children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{style:{textAlign:"left",color:"#bbb"},children:[(0,g.jsx)("th",{style:{padding:8},children:"Date"}),(0,g.jsx)("th",{style:{padding:8},children:"Amount"}),(0,g.jsx)("th",{style:{padding:8},children:"Campaign"}),(0,g.jsx)("th",{style:{padding:8},children:"Method"}),(0,g.jsx)("th",{style:{padding:8},children:"Notes"})]})}),(0,g.jsx)("tbody",{children:l.map(a=>(0,g.jsxs)("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.03)"},children:[(0,g.jsx)("td",{style:{padding:8},children:function(a){try{return new Date(a).toLocaleString()}catch(b){return a}}(a.date)}),(0,g.jsxs)("td",{style:{padding:8},children:["$",Number(a.amount||0).toFixed(2)]}),(0,g.jsx)("td",{style:{padding:8},children:a.campaignId||"—"}),(0,g.jsx)("td",{style:{padding:8},children:a.method||"—"}),(0,g.jsx)("td",{style:{padding:8},children:a.notes||"—"})]},a.id))})]})]})]})}a.s(["default",()=>j],31165);var k=a.i(31165),l=a.i(9193);let m=(0,d.hoist)(k,"default"),n=(0,d.hoist)(k,"getStaticProps"),o=(0,d.hoist)(k,"getStaticPaths"),p=(0,d.hoist)(k,"getServerSideProps"),q=(0,d.hoist)(k,"config"),r=(0,d.hoist)(k,"reportWebVitals"),s=(0,d.hoist)(k,"unstable_getStaticProps"),t=(0,d.hoist)(k,"unstable_getStaticPaths"),u=(0,d.hoist)(k,"unstable_getStaticParams"),v=(0,d.hoist)(k,"unstable_getServerProps"),w=(0,d.hoist)(k,"unstable_getServerSideProps"),x=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/admin/donors/[id]",pathname:"/admin/donors/[id]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:k}),y=(0,l.getHandler)({srcPage:"/admin/donors/[id]",config:q,userland:k,routeModule:x,getStaticPaths:o,getStaticProps:n,getServerSideProps:p});a.s(["config",0,q,"default",0,m,"getServerSideProps",0,p,"getStaticPaths",0,o,"getStaticProps",0,n,"handler",0,y,"reportWebVitals",0,r,"routeModule",0,x,"unstable_getServerProps",0,v,"unstable_getServerSideProps",0,w,"unstable_getStaticParams",0,u,"unstable_getStaticPaths",0,t,"unstable_getStaticProps",0,s],59372)}];

//# sourceMappingURL=node_modules_076fdf95._.js.map